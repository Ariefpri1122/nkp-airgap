Preparing Active Directory Service:
-----------------------------------

From autoad VM - Administrative Tools - Active Directory User and Computers:
	1.	Create your own NKP admin account
		- From AD User and Computer - Click Users Folder
		- Copy User Account Administrator and create new user account based on your name
			* First Name			: arief
			* Last Name			: pribadi
			* User Logon Name		: arief.pribadi
			* Next
			* Password			: [your complex password]
			* Confirm Password		: [your complex password]
			* Check User cannot change password
			* Check Password never expires
			* Next
	2.	Create “NKP Admins” Group for NKP to query Group in Active Directory 
		- From AD User and Computer - Right Click Users Folder - New Group
		- Create new Security Group
			* Group Name		: NKP Admins
			* Group Scope		: Global (default)
			* Group Type		: Security (default)
			* OK
			* Double click your new group - Members Tab - Add Button
				- Enter the object names to select	:	administrator;nkpsvc;arief.pribadi (your new user) - Click check names button
				- OK
				- OK
	
(Lets get back to Lab01)

	4.	From NKP Dashboard - Global - Identity Providers - Add Identity Provider - Click LDAP
			Workspace				:	All Workspace
			Name					: 	ntnxlab.local
			Host					: 	[autoad vm ip address:389] (ex: 10.38.106.6:389)
			Bind DN				    	: 	CN=administrator,CN=Users,DC=ntnxlab,DC=local
			Bind Password				: 	[cluster password] (ex: nx2Tech974!)
			Root CA				    	: 	Check Insecure No SSL and Check Insecure Skip TLS Verify
			User Search Base DN			: 	CN=Users,DC=ntnxlab,DC=local
			User Search Username			: 	sAMAccountName
			User Search ID Attribute		: 	DN
			User Search E-Mail			: 	userPrincipalName
			User Search Name			: 	name
			Checked —> group search queries for groups
			Group Search Base DN			: 	CN=Users,DC=ntnxlab,DC=local
			Group Search Filter			: 	(objectClass=group)
			Group Search Name Attribute		: 	cn
			Add —> User Matchers
			Group Search Group Attribute: 	member
			Group Search User Attribute		:	DN
			Save

	5.	From NKP Dashboard - Global - Identity Providers - Groups - Create Group
			Name					: NKP Admins
			Click Add Group
			Groups				        : oidc:NKP Admins
			Save

	6.	From NKP Dashboard - Global - Access Control  - Cluster Role Bindings
			NKP Admins - Add Roles —> Cluster Admin Role, DKP Commander Admin, Checked ALL
			Save

	7.	Test Single Sign-On using AD to NKP Dashboard
	⁃	Open new incognito windows - Access your NKP Dashboard (ex: https://10.38.106.41/dkp/kommander/dashboard) 
	⁃	Login with your AD Domain
	⁃	username: [yourname] and its-password
